curl -L ftp://ftp.sra.ebi.ac.uk/vol1/fastq/ERR328/004/ERR3284704/ERR3284704.fastq.gz -o ERR3284704_GridION_sequencing.fastq.gz
import argparse
#part of the argparse code. obviously requires argpviarse
import sys
import glob
#requires sys
#function to parse command line arguments

def check_arg(args=None):
	parser = argparse.ArgumentParser(description='Reading in a Fasta File and Translating')
	parser.add_argument('-i', '--input', help='path to input files', required='True')
	parser.add_argument('-o', '--output', help='output file names', required='True')
	return parser.parse_args(args)
args = check_arg(sys.argv[1:])
infile = args.input
outfile = args.output
x=glob.glob(infile+"*")
list_of_fastq_prefixes=set()
for i in x:
        p=i[len(infile):i.find('.fastq')]
        list_of_fastq_prefixes.add(p)
print(list_of_fastq_prefixes)
for i in list_of_fastq_prefixes:
        command= 'minimap2 -x ava-ont '+i+'.fastq '+i+'.fastq | gzip -1 > '+i+'minimap.paf.gz'
	
#minimap2 -x ava-ont ERR3284704_GridION_sequencing.fastq ERR3284704_GridION_sequencing.fastq | gzip -1 > minimap.paf.gz

for i in list_of_fastq_prefixes:
        command= 'miniasm -f '+i+'.fastq '+i+'minimap.paf.gz > '+i+'
miniasm -f ERR3284704_GridION_sequencing.fastq minimap.paf.gz > miniasm.gfa
path=infile+../
for i in list_of_fastq_prefixes:
	command='mkdir '+ path + '/sub/'+i

import subprocess
import random
import os
for i in list_of_fastq_prefixes:
	file1= infile+i
	result = subprocess.run(['wc', '-l', file1], capture_output=True, text=True)
	line_count = int(result.stdout.split()[0])
	number_reads = line_count // 4
	random.seed(1)
	randomList=random.sample(range(0,number_reads),10)

	counter=1
	for i in randomList:
        	command='/home/happleberry/seqtk/seqtk sample -s'+str(i)+' '+file1+' 3000 > '+'  /home/happleberry/sub/'+ i+ str(counter)+''
        	counter+=1
        	os.system(command)
Sub Files can be found in folder called Long_Read_Proj
Sub Files can be found in folder called Long_Read_Proj
